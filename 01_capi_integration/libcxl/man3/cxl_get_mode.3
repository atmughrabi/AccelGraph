.\" Copyright 2015-2017 IBM Corp.
.\"
.TH CXL_GET_MODE 3 2017-05-24 "LIBCXL 1.5" "CXL Programmer's Manual"
.SH NAME
cxl_get_mode \- get the current programming mode of an AFU
.SH SYNOPSIS
.B #include <libcxl.h>
.PP
.B "int cxl_get_mode(struct cxl_afu_h"
.BI * afu ", long *" valp );
.SH DESCRIPTION
.BR cxl_get_mode ()
copies the current programming mode used by
.I afu
to the long integer pointed to by
.IR valp .
Mode will be one of the modes returned by
.BR cxl_get_modes_supported ():
.B CXL_MODE_DEDICATED
or
.BR CXL_MODE_DIRECTED ,
.SH RETURN VALUE
On success, 0 is returned.
On error, \-1 is returned and
.I errno
is set appropriately.
.SH ERRORS
.TP
.B EINVAL
Invalid argument value.
.TP
.B ENOMEM
Insufficient memory.
.SH SEE ALSO
.BR cxl (3),
.BR cxl_adapter_afu_next (3),
.BR cxl_afu_fd_to_h (3),
.BR cxl_afu_next (3),
.BR cxl_afu_open_dev (3),
.BR cxl_afu_open_h (3),
.BR cxl_get_api_version (3),
.BR cxl_get_api_version_compatible (3),
.BR cxl_get_irqs_max (3),
.BR cxl_get_irqs_min (3),
.BR cxl_get_modes_supported (3),
.BR cxl_get_prefault_mode (3),
.BR cxl_set_mode (3)
